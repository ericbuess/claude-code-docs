# 安全

> 了解 Claude Code 的安全防护与最佳实践。

## 我们的安全理念

- 安全基石：Claude Code 由 Anthropic 安全计划指导开发（SOC2、ISO27001 等详见 Trust Center）。
- 基于权限的架构：默认只读，涉及编辑/执行等操作时需显式授权；支持一次性批准或自动允许。
- 透明可控：例如执行 bash 前需先获批，便于个人与组织按需配置。

权限配置见“身份与访问管理（IAM）”。

## 内置防护

- 写入范围限制：仅可写入启动目录及其子目录；可读取工作目录外文件但禁止写入。
- 提示疲劳缓解：支持按用户/代码库/组织白名单常用安全命令。
- 接受编辑模式：可批量接受编辑，同时对具副作用命令保留授权弹窗。

使用者责任：Claude 仅拥有你授予的权限，批准前请审阅变更与命令。

## 防御提示注入

- 核心保护：权限系统、上下文感知分析、输入清洗、风险命令阻断（如 curl/wget）。
- 隐私保障：敏感信息有限保留、受限访问、不将反馈用于模型训练。
- 其他：网络请求默认需批准；Web 抓取使用隔离上下文；首次代码库与新 MCP 服务器需信任校验；可疑 bash 即使白名单也需手动批准；匹配失败默认“需批准”；复杂命令附自然语言解释；凭据加密存储。

最佳实践：审阅命令、避免将不受信内容直接管道给 Claude、核对关键文件修改、使用 VM 在不受信环境运行脚本、/bug 上报可疑行为。

## MCP 安全

MCP 服务器列表由代码与设置管理。建议自建或使用可信提供方，基于权限限制其能力；Anthropic 不审计第三方 MCP。

## 团队与代码安全建议

- 审阅所有建议变更
- 对敏感仓库使用项目级权限策略
- 结合 devcontainer 提供隔离
- 定期用 /permissions 审核权限
- 组织层：使用受管策略、版本控制共享批准配置、培训最佳实践、用 OTel 监控使用
- 安全漏洞上报：通过 HackerOne 提交，给出复现步骤并在修复前勿公开

